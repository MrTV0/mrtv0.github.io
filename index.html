<html>
<head>
    <script defer src="https://unpkg.com/alpinejs@3.5.0/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>    
    <div x-data="{
        activ: {},
        activity_select: null,
        participants_count: 0,
        async getActiv() {
            this.activ = await (await fetch('https://free-time-mrtv0.cloud.okteto.net/activity', 
                        {
                            method: 'POST',
                            body: JSON.stringify({
                                activity_sel: this.activity_select,
                                participants_amount: this.participants_count
                        }),
                headers: {
                'Content-type': 'application/json; charset=UTF-8',
                            },
                        })).json();
                
                            console.log(this.activ);
                        },
                 choosing: {},
        async getChoice() {
            this.choosing = await (await fetch('https://free-time-mrtv0.cloud.okteto.net/choice')).json();
                        },
                 breaking: {},
        async getBreak() {
            this.breaking = await (await fetch('https://free-time-mrtv0.cloud.okteto.net/break')).json();
                        },
                 items: {},
                 amount: '',
                 max_amount: 5,
        async getYesnos() {
            this.items = await (await fetch('https://free-time-mrtv0.cloud.okteto.net/yesnos/' + this.amount + '?max_amount=' + this.max_amount)).json();
            console.log(this.items);
                        }
                 }">
        <h2>Do you feel bored?</h2>
        <div>
        <p>Press the "Get Active Again!" button to show an activity you can do.</p>
        <p>You can choose which specific type of activity you want to see an activity of.</p>
        <p>Choose "Random" if you want a totally random type of activity.</p>
        <select x-model="activity_select">
            <option value="">Random</option>
            <option>education</option>
            <option>recreational</option>
            <option>social</option>
            <option>diy</option>
            <option>charity</option>
            <option>cooking</option>
            <option>relaxation</option>
            <option>music</option>
            <option>busywork</option>
        </select>
        <input type="text" x-model="participants_count">
        </div>
        <button x-on:click="getActiv">Get active again!</button>
        <p>In type <strong x-text="activ.type"></strong> with <strong x-text="activ.part_amount"></strong> the activity will be: <strong x-text="activ.activity">Placeholder</strong></p>

        <h3>If you are not sure you can let me choose.</h3>
        <button x-on:click="getChoice">Let me choose!</button>
        Data returned: <strong x-text="choosing.text">Placeholder</strong>

        <p>If you are not sure you can let me choose.</p>
        <input type="text" x-model="amount">
        <input type="text" x-model="max_amount">
        
        <button x-on:click="getYesnos" x-show="amount.length >= 1">Let me choose!</button>
        Data returned: <strong x-text="items.fullString">Placeholder</strong>
        Data returned: <strong x-text="items.winner">Placeholder</strong>
    
        <h2>Do you need a break?</h2>
        <button x-on:click="getBreak">This is for you!</button>
        Data returned: <strong x-text="breaking.text">Placeholder</strong>
        <img :src="breaking.picture"/>
    </div>
</body>
</html>
